(function(d){var l=function(c){"string"===typeof c&&(c=d(c));0==c.length?d.error("bad selector (selected no elements)."):1<c.length&&d.error("bad selector (selected two or more elements).");if(c[0].as_pixie)return c[0].as_pixie;var f={$:c,kind_of:{}};return c[0].as_pixie=f},k=function(c){0==c.length?d.error("bad selector (selected no elements)."):1<c.length&&d.error("bad selector (selected two or more elements).");return c[0].as_pixie},m={paned:function(){var c={border:5,pos:"50%",pos_min:"10%",pos_max:"90% - 5",
color:"lightgray"},f=function(a){for(var b=0;b<a.length;b++)a[b].$.detach()},e=function(a,b){"string"===typeof a.pos&&a.pos.match(/%/)?a.true_pos=eval(a.pos.replace(/%/," / 100 * "+b)):a.true_pos=a.pos;"string"===typeof a.pos_min&&a.pos_min.match(/%/)?a.true_pos_min=eval(a.pos_min.replace(/%/," / 100 * "+b)):a.true_pos_min=a.pos_min;"string"===typeof a.pos_max&&a.pos_max.match(/%/)?a.true_pos_max=eval(a.pos_max.replace(/%/," / 100 * "+b)):a.true_pos_max=a.pos_max},g=function(a){return{width:a.width(),
height:a.height()}},n=function(){this.bar={$:d("<div></div>").css({backgroundColor:this.options.color,position:"absolute"})};for(var a=0;a<this.children.length;a++)this.children[a].$.css({position:"absolute"})},h=function(){var a=this.$.height();this.bar.$.css({cursor:"col-resize",width:this.options.border,height:a});for(var b=0;b<this.children.length;b++)this.children[b].$.css({height:a})},k=function(){h.call(this);var a=!1,b=this;this.bar.$.mousedown(function(c){b.drag_start_pos_x=c.clientX;b.options_pos_init=
b.options.true_pos;a=!0});d(document).mousemove(function(c){a&&(0!=c.buttons%2?a&&(b.options.true_pos=b.options_pos_init+(c.clientX-b.drag_start_pos_x),b.options.true_pos<b.options.true_pos_min?b.options.true_pos=b.options.true_pos_min:b.options.true_pos>b.options.true_pos_max&&(b.options.true_pos=b.options.true_pos_max)):a=!1,b.$.pixie("emit","resize"))})},r={initialized:!1,show:function(){var a=g(this.$);this.initialized||(n.call(this),k.call(this),f(this.children),e(this.options,a.width),this.children[0].$.appendTo(this.$),
this.bar.$.appendTo(this.$),this.children[1].$.appendTo(this.$),this.initialized=!0);this.children[0].$.css({width:this.options.true_pos});this.children[1].$.css({left:this.options.true_pos+this.options.border,width:a.width-this.options.true_pos-this.options.border});this.bar.$.css({left:this.options.true_pos});return this},resize:function(){h.call(this);this.show.call(this);for(var a=0;a<this.children.length;a++)this.children[a].is_pixie&&this.children[a].$.pixie("emit","resize");return this}},p=
function(){var a=this.$.width();this.bar.$.css({cursor:"row-resize",width:a,height:this.options.border});for(var b=0;b<this.children.length;b++)this.children[b].$.css({width:a})},t=function(){p.call(this);var a=!1,b=this;this.bar.$.mousedown(function(c){b.drag_start_pos_y=c.clientY;b.options_pos_init=b.options.true_pos;a=!0});d(document).mousemove(function(c){a&&(0!=c.buttons%2?a&&(b.options.true_pos=b.options_pos_init+(c.clientY-b.drag_start_pos_y),b.options.true_pos<b.options.true_pos_min?b.options.true_pos=
b.options.true_pos_min:b.options.true_pos>b.options.true_pos_max&&(b.options.true_pos=b.options.true_pos_max)):a=!1,b.show.call(b))})},u={show:function(){var a=g(this.$);this.initialized||(n.call(this),t.call(this),f(this.children),e(this.options,a.height),this.children[0].$.appendTo(this.$),this.bar.$.appendTo(this.$),this.children[1].$.appendTo(this.$),this.initialized=!0);this.children[0].$.css({height:this.options.true_pos});this.children[1].$.css({top:this.options.true_pos+this.options.border,
height:a.height-this.options.true_pos-this.options.border});this.bar.$.css({top:this.options.true_pos});return this},resize:function(){p.call(this);this.show.call(this);for(var a=0;a<this.children.length;a++)this.children[a].is_pixie&&this.children[a].$.pixie("emit","resize");return this},initialized:!1},q={type_of:"paned",kind_of:{paned:!0},initialize:function(a){var b=m.container.apply(this);d.extend(!0,b,q);b.options=d.extend(!0,{},c,a);"vertical"==b.options.orientation?d.extend(!0,b,r):"horizontal"==
b.options.orientation?d.extend(!0,b,u):d.error("bad orientation");return b},add1:function(a){this.children[0]=l(a);return this},add2:function(a){this.children[1]=l(a);return this},position:function(a){this.options.pos=a;return this}};return function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return q.initialize.apply(this,b)}}(),container:function(){var c={is_pixie:!0,type_of:"container",kind_of:{container:!0},initialize:function(){var f=l(this);d.extend(!0,f,c);return f},signal_showAll:function(){this.show();
for(var c=0;c<this.children.length;c++)this.children[c].$.pixie("emit","showAll");return this},signal_resize:function(){this.resize();return this},children:[]};return function(d){for(var e=[],g=0;g<arguments.length;++g)e[g-0]=arguments[g];return c.initialize.apply(this,e)}}(),emit:function(){var c={showAll:function(){var c=k(this);c.kind_of.container&&c.signal_showAll();return this},resize:function(){var c=k(this);c.kind_of.container&&c.signal_resize();return this}},f=function(e,g){for(var f=[],h=
1;h<arguments.length;++h)f[h-1]=arguments[h];c[e]?c[e].apply(this,f):d.error("Signal named "+e+" not found.");return this};return function(c){for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];return f.apply(this,d)}}()};d.fn.pixie=function(c,f){for(var e=[],g=1;g<arguments.length;++g)e[g-1]=arguments[g];if(m[c])return m[c].apply(this,e);d.error("Widget named "+c+" not found.")};d(".pixie-widget").hide()})(jQuery);
