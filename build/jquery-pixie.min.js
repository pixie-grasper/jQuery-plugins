(function(d){var l=function(b){"string"===typeof b&&(b=d(b));0==b.length?d.error("bad selector (selected no elements)."):1<b.length&&d.error("bad selector (selected two or more elements).");if(b[0].as_pixie)return b[0].as_pixie;var f={$:b,kind_of:{}};return b[0].as_pixie=f},k=function(b){0==b.length?d.error("bad selector (selected no elements)."):1<b.length&&d.error("bad selector (selected two or more elements).");return b[0].as_pixie},m={paned:function(){var b={border:5,pos:"50%",color:"lightgray"},
f=function(a){for(var c=0;c<a.length;c++)a[c].$.detach()},e=function(a,c){"string"===typeof a.pos&&a.pos.match(/%/)?a.true_pos=eval(a.pos.replace(/%/," / 100 * "+c)):a.true_pos=a.pos},g=function(a){return{width:a.width(),height:a.height()}},n=function(){this.bar={$:d("<div></div>").css({backgroundColor:this.options.color,position:"absolute"})};for(var a=0;a<this.children.length;a++)this.children[a].$.css({position:"absolute"})},h=function(){var a=this.$.height();this.bar.$.css({cursor:"col-resize",
width:this.options.border,height:a});for(var c=0;c<this.children.length;c++)this.children[c].$.css({height:a})},k=function(){h.call(this);var a=!1,c=this;this.bar.$.mousedown(function(b){c.drag_start_pos_x=b.clientX;c.options_pos_init=c.options.true_pos;a=!0});d(document).mousemove(function(b){a&&(0!=b.buttons%2?a&&(c.options.true_pos=c.options_pos_init+(b.clientX-c.drag_start_pos_x)):a=!1,c.$.pixie("emit","resize"))})},r={initialized:!1,show:function(){var a=g(this.$);this.initialized||(n.call(this),
k.call(this),f(this.children),e(this.options,a.width),this.children[0].$.appendTo(this.$),this.bar.$.appendTo(this.$),this.children[1].$.appendTo(this.$),this.initialized=!0);this.children[0].$.css({width:this.options.true_pos});this.children[1].$.css({left:this.options.true_pos+this.options.border,width:a.width-this.options.true_pos-this.options.border});this.bar.$.css({left:this.options.true_pos});for(a=0;a<this.children.length;a++)this.children[a].is_pixie&&this.children[a].$.pixie("emit","showAll");
return this},resize:function(){h.call(this);this.show.call(this);for(var a=0;a<this.children.length;a++)this.children[a].is_pixie&&this.children[a].$.pixie("emit","resize");return this}},p=function(){var a=this.$.width();this.bar.$.css({cursor:"row-resize",width:a,height:this.options.border});for(var c=0;c<this.children.length;c++)this.children[c].$.css({width:a})},t=function(){p.call(this);var a=!1,c=this;this.bar.$.mousedown(function(b){c.drag_start_pos_y=b.clientY;c.options_pos_init=c.options.true_pos;
a=!0});d(document).mousemove(function(b){a&&(0!=b.buttons%2?a&&(c.options.true_pos=c.options_pos_init+(b.clientY-c.drag_start_pos_y)):a=!1,c.show.call(c))})},u={show:function(){var a=g(this.$);this.initialized||(n.call(this),t.call(this),f(this.children),e(this.options,a.height),this.children[0].$.appendTo(this.$),this.bar.$.appendTo(this.$),this.children[1].$.appendTo(this.$),this.initialized=!0);this.children[0].$.css({height:this.options.true_pos});this.children[1].$.css({top:this.options.true_pos+
this.options.border,height:a.height-this.options.true_pos-this.options.border});this.bar.$.css({top:this.options.true_pos});for(a=0;a<this.children.length;a++)this.children[a].is_pixie&&this.children[a].$.pixie("emit","showAll");return this},resize:function(){p.call(this);this.show.call(this);for(var a=0;a<this.children.length;a++)this.children[a].is_pixie&&this.children[a].$.pixie("emit","resize");return this},initialized:!1},q={type_of:"paned",kind_of:{paned:!0},initialize:function(a){var c=m.container.apply(this);
d.extend(!0,c,q);c.options=d.extend(!0,{},b,a);"vertical"==c.options.orientation?d.extend(!0,c,r):"horizontal"==c.options.orientation?d.extend(!0,c,u):d.error("bad orientation");return c},add1:function(a){this.children[0]=l(a);return this},add2:function(a){this.children[1]=l(a);return this},position:function(a){this.options.pos=a;return this}};return function(a){for(var c=[],b=0;b<arguments.length;++b)c[b-0]=arguments[b];return q.initialize.apply(this,c)}}(),container:function(){var b={is_pixie:!0,
type_of:"container",kind_of:{container:!0},initialize:function(){var f=l(this);d.extend(!0,f,b);return f},signal_showAll:function(){this.show();for(var b=0;b<this.children.length;b++)this.children[b].$.pixie("emit","showAll");return this},signal_resize:function(){this.resize();return this},children:[]};return function(d){for(var e=[],g=0;g<arguments.length;++g)e[g-0]=arguments[g];return b.initialize.apply(this,e)}}(),emit:function(){var b={showAll:function(){var b=k(this);b.kind_of.container&&b.signal_showAll();
return this},resize:function(){var b=k(this);b.kind_of.container&&b.signal_resize();return this}},f=function(e,g){for(var f=[],h=1;h<arguments.length;++h)f[h-1]=arguments[h];b[e]?b[e].apply(this,f):d.error("Signal named "+e+" not found.");return this};return function(b){for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];return f.apply(this,d)}}()};d.fn.pixie=function(b,f){for(var e=[],g=1;g<arguments.length;++g)e[g-1]=arguments[g];if(m[b])return m[b].apply(this,e);d.error("Widget named "+
b+" not found.")};d(".pixie-widget").hide()})(jQuery);
