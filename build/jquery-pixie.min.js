var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[f]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var f=0;return $jscomp.iteratorPrototype(function(){return f<a.length?{done:!1,value:a[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var f=a[Symbol.iterator];return f?f.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var f,b=[];!(f=a.next()).done;)b.push(f.value);return b};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(a,f){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,e={next:function(){if(b<a.length){var c=b++;return{value:f(c,a[c]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill=function(a,f,b,e){if(f){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var c=a[e];c in b||(b[c]={});b=b[c]}a=a[a.length-1];e=b[a];f=f(e);f!=e&&null!=f&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,b,e){var c=this.length||0;0>b&&(b=Math.max(0,c+b));if(null==e||e>c)e=c;e=Number(e);0>e&&(e=Math.max(0,c+e));for(b=Number(b||0);b<e;b++)this[b]=a;return this}},"es6-impl","es3");
(function(a){var f=function(c){"string"===typeof c&&(c=a(c));0==c.length?a.error("bad selector (selected no elements)."):1<c.length&&a.error("bad selector (selected two or more elements).");if(c[0].as_pixie)return c[0].as_pixie;var b={$:c,kind_of:{}};return c[0].as_pixie=b},b=function(c){0==c.length?a.error("bad selector (selected no elements)."):1<c.length&&a.error("bad selector (selected two or more elements).");return c[0].as_pixie},e={paned:function(){var c={border:5,pos:"50%",pos_min:"10%",pos_max:"90% - 5",
color:"lightgray"},b=function(a){for(var n=0;n<a.length;n++)a[n].$.detach()},p=function(a,d){"string"===typeof a.pos&&a.pos.match(/%/)?a.true_pos=eval(a.pos.replace(/%/," / 100 * "+d)):a.true_pos=a.pos;"string"===typeof a.pos_min&&a.pos_min.match(/%/)?a.true_pos_min=eval(a.pos_min.replace(/%/," / 100 * "+d)):a.true_pos_min=a.pos_min;"string"===typeof a.pos_max&&a.pos_max.match(/%/)?a.true_pos_max=eval(a.pos_max.replace(/%/," / 100 * "+d)):a.true_pos_max=a.pos_max},m=function(a){return{width:a.width(),
height:a.height()}},r=function(){this.bar={$:a("<div></div>").css({backgroundColor:this.options.color,position:"absolute"})};for(var n=0;n<this.children.length;n++)this.children[n].$.css({position:"absolute"})},q=function(){var a=this.$.height();this.bar.$.css({cursor:"col-resize",width:this.options.border,height:a});for(var d=0;d<this.children.length;d++)this.children[d].$.css({height:a})},g=function(){q.call(this);var n=!1,d=this;this.bar.$.mousedown(function(g){d.drag_start_pos_x=g.clientX;d.options_pos_init=
d.options.true_pos;n=!0;a("body").css({cursor:"col-resize"})});a(document).mousemove(function(a){n&&(d.options.true_pos=d.options_pos_init+(a.clientX-d.drag_start_pos_x),d.options.true_pos<d.options.true_pos_min?d.options.true_pos=d.options.true_pos_min:d.options.true_pos>d.options.true_pos_max&&(d.options.true_pos=d.options.true_pos_max),d.$.pixie("emit","resize"))}).mouseup(function(d){n=!1;a("body").css({cursor:""})})},u={initialized:!1,show:function(){var a=m(this.$);this.initialized||(r.call(this),
g.call(this),b(this.children),p(this.options,a.width),this.children[0].$.appendTo(this.$),this.bar.$.appendTo(this.$),this.children[1].$.appendTo(this.$),this.initialized=!0);this.children[0].$.css({width:this.options.true_pos});this.children[1].$.css({left:this.options.true_pos+this.options.border,width:a.width-this.options.true_pos-this.options.border});this.bar.$.css({left:this.options.true_pos});return this},resize:function(){q.call(this);this.show();for(var a=0;a<this.children.length;a++)this.children[a].is_pixie&&
this.children[a].$.pixie("emit","resize");return this}},k=function(){var a=this.$.width();this.bar.$.css({cursor:"row-resize",width:a,height:this.options.border});for(var d=0;d<this.children.length;d++)this.children[d].$.css({width:a})},h=function(){k.call(this);var g=!1,d=this;this.bar.$.mousedown(function(c){d.drag_start_pos_y=c.clientY;d.options_pos_init=d.options.true_pos;g=!0;a("body").css({cursor:"row-resize"})});a(document).mousemove(function(a){g&&(d.options.true_pos=d.options_pos_init+(a.clientY-
d.drag_start_pos_y),d.options.true_pos<d.options.true_pos_min?d.options.true_pos=d.options.true_pos_min:d.options.true_pos>d.options.true_pos_max&&(d.options.true_pos=d.options.true_pos_max),d.show())}).mouseup(function(d){g=!1;a("body").css({cursor:""})})},l={show:function(){var a=m(this.$);this.initialized||(r.call(this),h.call(this),b(this.children),p(this.options,a.height),this.children[0].$.appendTo(this.$),this.bar.$.appendTo(this.$),this.children[1].$.appendTo(this.$),this.initialized=!0);
this.children[0].$.css({height:this.options.true_pos});this.children[1].$.css({top:this.options.true_pos+this.options.border,height:a.height-this.options.true_pos-this.options.border});this.bar.$.css({top:this.options.true_pos});return this},resize:function(){k.call(this);this.show();for(var a=0;a<this.children.length;a++)this.children[a].is_pixie&&this.children[a].$.pixie("emit","resize");return this},initialized:!1},t={type_of:"paned",kind_of:{paned:!0},initialize:function(g){var d=e.container.apply(this);
a.extend(!0,d,t);d.options=a.extend(!0,{},c,g);"vertical"==d.options.orientation?a.extend(!0,d,u):"horizontal"==d.options.orientation?a.extend(!0,d,l):a.error("bad orientation");a(window).resize(function(){d.resize()});return d},add1:function(a){this.children[0]=f(a);return this},add2:function(a){this.children[1]=f(a);return this},position:function(a){this.options.pos=a;return this}};return function(a){for(var d=[],g=0;g<arguments.length;++g)d[g-0]=arguments[g];return t.initialize.apply(this,d)}}(),
container:function(){var c={is_pixie:!0,type_of:"container",kind_of:{container:!0},initialize:function(){var b=f(this);a.extend(!0,b,c);return b},signal_showAll:function(){this.show();for(var a=0;a<this.children.length;a++)this.children[a].$.pixie("emit","showAll");return this},signal_resize:function(){this.resize();return this},children:[]};return function(a){for(var b=[],e=0;e<arguments.length;++e)b[e-0]=arguments[e];return c.initialize.apply(this,b)}}(),emit:function(){var c={showAll:function(){var a=
b(this);a.kind_of.container&&a.signal_showAll();return this},resize:function(){var a=b(this);a.kind_of.container&&a.signal_resize();return this}},e=function(b,e){for(var f=[],q=1;q<arguments.length;++q)f[q-1]=arguments[q];c[b]?c[b].apply(this,f):a.error("Signal named "+b+" not found.");return this};return function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return e.apply(this,b)}}(),atlas:function(){var b={},f=function(a){return{width:a.width(),height:a.height()}},p=function(a){this._=
document.createElementNS("http://www.w3.org/2000/svg",a);this.attr=function(a){var g=this._;Object.keys(a).forEach(function(b){g.setAttribute(b,a[b])});return this};this.css=function(a){var b=this._;Object.keys(a).forEach(function(g){b.style[g]=a[g]});return this};this.appendTo=function(a){a instanceof jQuery?a[0].appendChild(this._):a instanceof p&&a._.appendChild(this._);return this};this.append=function(a){a instanceof jQuery?this._.appendChild(a[0]):a instanceof p&&this._.appendChild(a._);return this};
this.empty=function(){for(var a=this._;a.firstChild;)a.removeChild(a.firstChild);return this}},m=function(){var b=f(this.$);this.svg={_:(new p("svg")).attr({viewBox:"0 0 "+b.width+" "+b.height,xmlns:"http://www.w3.org/2000/svg"}).css({position:"absolute",width:b.width,height:b.height})};this.svg._.appendTo(this.$);var c=this,e=!1,k=null,h=null,l=null,m=null;a(this.svg._._).mousedown(function(a){k=a.clientX;h=a.clientY;l=c.x;m=c.y;e=!0});a(document).mousemove(function(a){if(e){var b=a.clientY-h;c.x=
l-(a.clientX-k);c.y=m+b;c.show()}}).mouseup(function(a){e=!1})},r={is_pixie:!0,type_of:"atlas",kind_of:{atlas:!0},initialize:function(c){var g=e.container.apply(this);a.extend(!0,g,r);g.options=a.extend(!0,{},b,c);a(window).resize(function(){g.resize();return!0});return g},show:function(){this.initialized||(m.call(this),this.initialized=!0);var b=f(this.$),c=this.scale,e=1/c,e=[this.x,this.y,this.x+b.width*e,this.y+b.height*e],k=!1;if(null==this.cached_box_size)this.cached_box_size=e,k=!0;else if(e[0]<
this.cached_box_size[0]||e[1]<this.cached_box_size[1]||e[2]>this.cached_box_size[2]||e[3]>this.cached_box_size[3]){for(var k=[Math.min,Math.min,Math.max,Math.max],h=0;4>h;h++)this.cached_box_size[h]=k[h](e[h],this.cached_box_size[h]);k=!0}if(k)for(this.cache_id_list=this.options.listup.call.apply(this.options.listup,[].concat([this],$jscomp.arrayFromIterable(this.cached_box_size))),this.g={_:new p("g")},this.g._.appendTo(this.svg._.empty()),this.cache_SVG_list=[],k=this.cache_id_list,h=0;h<k.length;h++){var l=
this.options.fetch.call(this,k[h]);switch(l.type){case "circle":l={_:(new p("circle")).attr({stroke:l.stroke||"",fill:l.fill||""}),type:"circle",cx:l.cx,cy:l.cy,r:l.r};this.cache_SVG_list[h]=l;l._.appendTo(this.g._);break;default:a.error("unknown type "+l.type+" detected.")}}k=this.cache_SVG_list;for(h=0;h<k.length;h++)switch(k[h].type){case "circle":k[h]._.attr({cx:(k[h].cx-e[0])*c,cy:b.height-(k[h].cy-e[1])*c,r:k[h].r*c})}return this},drop_cache:function(){this.cache_SVG_list=this.cache_id_list=
this.cached_box_size=null;return this},resize:function(){var a=f(this.$);this.svg._.attr({viewBox:"0 0 "+a.width+" "+a.height}).css({width:a.width,height:a.height});this.show.call(this);return this},initialized:!1,cached_box_size:null,x:0,y:0,scale:1};return function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return r.initialize.apply(this,b)}}()};a.fn.pixie=function(b,f){for(var c=[],m=1;m<arguments.length;++m)c[m-1]=arguments[m];if(e[b])return e[b].apply(this,c);a.error("Widget named "+
b+" not found.")};a(".pixie-widget").hide()})(jQuery);
