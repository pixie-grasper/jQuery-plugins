var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[f]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var f=0;return $jscomp.iteratorPrototype(function(){return f<a.length?{done:!1,value:a[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var f=a[Symbol.iterator];return f?f.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var f,d=[];!(f=a.next()).done;)d.push(f.value);return d};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(a,f){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var c=d++;return{value:f(c,a[c]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill=function(a,f,d,e){if(f){d=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var c=a[e];c in d||(d[c]={});d=d[c]}a=a[a.length-1];e=d[a];f=f(e);f!=e&&null!=f&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,d,e){var c=this.length||0;0>d&&(d=Math.max(0,c+d));if(null==e||e>c)e=c;e=Number(e);0>e&&(e=Math.max(0,c+e));for(d=Number(d||0);d<e;d++)this[d]=a;return this}},"es6-impl","es3");
(function(a){var f=function(c){"string"===typeof c&&(c=a(c));0==c.length?a.error("bad selector (selected no elements)."):1<c.length&&a.error("bad selector (selected two or more elements).");if(c[0].as_pixie)return c[0].as_pixie;var d={$:c,kind_of:{}};return c[0].as_pixie=d},d=function(c){0==c.length?a.error("bad selector (selected no elements)."):1<c.length&&a.error("bad selector (selected two or more elements).");return c[0].as_pixie},e={paned:function(){var c={border:5,pos:"50%",pos_min:"10%",pos_max:"90% - 5",
color:"lightgray"},d=function(a){for(var p=0;p<a.length;p++)a[p].$.detach()},r=function(a,b){"string"===typeof a.pos&&a.pos.match(/%/)?a.true_pos=eval(a.pos.replace(/%/," / 100 * "+b)):a.true_pos=a.pos;"string"===typeof a.pos_min&&a.pos_min.match(/%/)?a.true_pos_min=eval(a.pos_min.replace(/%/," / 100 * "+b)):a.true_pos_min=a.pos_min;"string"===typeof a.pos_max&&a.pos_max.match(/%/)?a.true_pos_max=eval(a.pos_max.replace(/%/," / 100 * "+b)):a.true_pos_max=a.pos_max},m=function(a){return{width:a.width(),
height:a.height()}},q=function(){this.bar={$:a("<div></div>").css({backgroundColor:this.options.color,position:"absolute"})};for(var b=0;b<this.children.length;b++)this.children[b].$.css({position:"absolute"})},n=function(){var a=this.$.height();this.bar.$.css({cursor:"col-resize",width:this.options.border,height:a});for(var b=0;b<this.children.length;b++)this.children[b].$.css({height:a})},b=function(){n.call(this);var b=!1,g=this;this.bar.$.mousedown(function(p){g.drag_start_pos_x=p.clientX;g.options_pos_init=
g.options.true_pos;b=!0;a("body").css({cursor:"col-resize"})});a(document).mousemove(function(a){b&&(g.options.true_pos=g.options_pos_init+(a.clientX-g.drag_start_pos_x),g.options.true_pos<g.options.true_pos_min?g.options.true_pos=g.options.true_pos_min:g.options.true_pos>g.options.true_pos_max&&(g.options.true_pos=g.options.true_pos_max),g.$.pixie("emit","resize"))}).mouseup(function(g){b=!1;a("body").css({cursor:""})})},u={initialized:!1,show:function(){var a=m(this.$);this.initialized||(q.call(this),
b.call(this),d(this.children),r(this.options,a.width),this.children[0].$.appendTo(this.$),this.bar.$.appendTo(this.$),this.children[1].$.appendTo(this.$),this.initialized=!0);this.children[0].$.css({width:this.options.true_pos});this.children[1].$.css({left:this.options.true_pos+this.options.border,width:a.width-this.options.true_pos-this.options.border});this.bar.$.css({left:this.options.true_pos});return this},resize:function(){n.call(this);this.show();for(var a=0;a<this.children.length;a++)this.children[a].is_pixie&&
this.children[a].$.pixie("emit","resize");return this}},k=function(){var a=this.$.width();this.bar.$.css({cursor:"row-resize",width:a,height:this.options.border});for(var b=0;b<this.children.length;b++)this.children[b].$.css({width:a})},h=function(){k.call(this);var b=!1,g=this;this.bar.$.mousedown(function(p){g.drag_start_pos_y=p.clientY;g.options_pos_init=g.options.true_pos;b=!0;a("body").css({cursor:"row-resize"})});a(document).mousemove(function(a){b&&(g.options.true_pos=g.options_pos_init+(a.clientY-
g.drag_start_pos_y),g.options.true_pos<g.options.true_pos_min?g.options.true_pos=g.options.true_pos_min:g.options.true_pos>g.options.true_pos_max&&(g.options.true_pos=g.options.true_pos_max),g.show())}).mouseup(function(g){b=!1;a("body").css({cursor:""})})},l={show:function(){var a=m(this.$);this.initialized||(q.call(this),h.call(this),d(this.children),r(this.options,a.height),this.children[0].$.appendTo(this.$),this.bar.$.appendTo(this.$),this.children[1].$.appendTo(this.$),this.initialized=!0);
this.children[0].$.css({height:this.options.true_pos});this.children[1].$.css({top:this.options.true_pos+this.options.border,height:a.height-this.options.true_pos-this.options.border});this.bar.$.css({top:this.options.true_pos});return this},resize:function(){k.call(this);this.show();for(var a=0;a<this.children.length;a++)this.children[a].is_pixie&&this.children[a].$.pixie("emit","resize");return this},initialized:!1},t={type_of:"paned",kind_of:{paned:!0},initialize:function(b){var g=e.container.apply(this);
a.extend(!0,g,t);g.options=a.extend(!0,{},c,b);"vertical"==g.options.orientation?a.extend(!0,g,u):"horizontal"==g.options.orientation?a.extend(!0,g,l):a.error("bad orientation");a(window).resize(function(){g.resize()});return g},add1:function(a){this.children[0]=f(a);return this},add2:function(a){this.children[1]=f(a);return this},position:function(a){this.options.pos=a;return this}};return function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return t.initialize.apply(this,b)}}(),
container:function(){var c={is_pixie:!0,type_of:"container",kind_of:{container:!0},initialize:function(){var d=f(this);a.extend(!0,d,c);return d},signal_showAll:function(){this.show();for(var a=0;a<this.children.length;a++)this.children[a].$.pixie("emit","showAll");return this},signal_resize:function(){this.resize();return this},children:[]};return function(a){for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];return c.initialize.apply(this,d)}}(),emit:function(){var c={showAll:function(){var a=
d(this);a.kind_of.container&&a.signal_showAll();return this},resize:function(){var a=d(this);a.kind_of.container&&a.signal_resize();return this}},e=function(d,e){for(var f=[],n=1;n<arguments.length;++n)f[n-1]=arguments[n];c[d]?c[d].apply(this,f):a.error("Signal named "+d+" not found.");return this};return function(a){for(var d=[],c=0;c<arguments.length;++c)d[c-0]=arguments[c];return e.apply(this,d)}}(),atlas:function(){var c={overlap_elements:function(a,b){return[]},update_overlaps:function(a,b,d){}},
d=function(a){return{width:a.width(),height:a.height()}},f=function(a){this._=document.createElementNS("http://www.w3.org/2000/svg",a);this.attr=function(a){var b=this._;Object.keys(a).forEach(function(d){b.setAttribute(d,a[d])});return this};this.css=function(a){var b=this._;Object.keys(a).forEach(function(d){b.style[d]=a[d]});return this};this.appendTo=function(a){a instanceof jQuery?a[0].appendChild(this._):a instanceof f&&a._.appendChild(this._);return this};this.append=function(a){a instanceof
jQuery?this._.appendChild(a[0]):a instanceof f?this._.appendChild(a._):this._.appendChild(a);return this};this.empty=function(){for(var a=this._;a.firstChild;)a.removeChild(a.firstChild);return this}},m=function(){var c=d(this.$);this.svg={_:(new f("svg")).attr({viewBox:"0 0 "+c.width+" "+c.height,xmlns:"http://www.w3.org/2000/svg"}).css({position:"absolute",width:c.width,height:c.height})};this.svg.$=a(this.svg._._).appendTo(this.$);this.overlap_elements=this.options.overlap_elements(c.width,c.height);
var b=this,e=!1,k=null,h=null,l=null,m=null;this.svg.$.mousedown(function(a){k=a.clientX;h=a.clientY;l=b.x;m=b.y;e=!0}).on("onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll",function(a){var c=d(b.$),e=1/b.scale,f=b.scale_base,k=1/f,h=b.x+a.clientX*e,c=b.y+(c.height-a.clientY)*e;a=a.originalEvent.deltaY?-a.originalEvent.deltaY:a.originalEvent.wheelDelta?a.originalEvent.wheelDelta:a.originalEvent.detail;0>a?(b.scale*=k,b.x=h-(h-b.x)*f,b.y=c-(c-b.y)*f):(b.scale*=f,b.x=
h-(h-b.x)*k,b.y=c-(c-b.y)*k);b.show();b.options.update_overlaps(h,c,b.scale)});a(document).mousemove(function(a){if(e){var c=a.clientY-h;b.x=l-(a.clientX-k)/b.scale;b.y=m+c/b.scale;b.show()}var c=d(b.$),f=b.scale,n=1/f;b.options.update_overlaps(b.x+a.clientX*n,b.y+(c.height-a.clientY)*n,f)}).mouseup(function(a){e=!1})},q={is_pixie:!0,type_of:"atlas",kind_of:{atlas:!0},initialize:function(d){var b=e.container.apply(this);a.extend(!0,b,q);b.options=a.extend(!0,{},c,d);a(window).resize(function(){b.resize();
return!0});return b},show:function(){this.initialized||(m.call(this),this.initialized=!0);var c=d(this.$),b=this.scale,e=1/b,e=[this.x,this.y,this.x+c.width*e,this.y+c.height*e],k=!1;if(null==this.cached_box_size)this.cached_box_size=e,k=!0;else if(e[0]<this.cached_box_size[0]||e[1]<this.cached_box_size[1]||e[2]>this.cached_box_size[2]||e[3]>this.cached_box_size[3]){for(var k=[Math.min,Math.min,Math.max,Math.max],h=0;4>h;h++)this.cached_box_size[h]=k[h](e[h],this.cached_box_size[h]);k=!0}if(k){this.cache_id_list=
this.options.listup.call.apply(this.options.listup,[].concat([this],$jscomp.arrayFromIterable(this.cached_box_size)));this.g={_:new f("g")};this.g.$=a(this.g._._);this.g._.appendTo(this.svg._.empty());this.cache_SVG_list=[];k=this.cache_id_list;for(h=0;h<k.length;h++){var l=this.options.fetch.call(this,k[h]);switch(l.type){case "circle":l={_:(new f("circle")).attr({stroke:l.stroke||"",fill:l.fill||""}),type:"circle",cx:l.cx,cy:l.cy,r:l.r};this.cache_SVG_list[h]=l;l._.appendTo(this.g.$);break;default:a.error("unknown type "+
l.type+" detected.")}}for(k=0;k<this.overlap_elements.length;k++)this.g._.append(this.overlap_elements[k])}k=this.cache_SVG_list;for(h=0;h<k.length;h++)switch(k[h].type){case "circle":k[h]._.attr({cx:(k[h].cx-e[0])*b,cy:c.height-(k[h].cy-e[1])*b,r:k[h].r*b})}return this},drop_cache:function(){this.cache_SVG_list=this.cache_id_list=this.cached_box_size=null;return this},resize:function(){var a=d(this.$);this.svg._.attr({viewBox:"0 0 "+a.width+" "+a.height}).css({width:a.width,height:a.height});this.show.call(this);
return this},initialized:!1,cached_box_size:null,x:0,y:0,scale:1,scale_base:1.3};return function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return q.initialize.apply(this,b)}}()};a.fn.pixie=function(c,d){for(var f=[],m=1;m<arguments.length;++m)f[m-1]=arguments[m];if(e[c])return e[c].apply(this,f);a.error("Widget named "+c+" not found.")};a(".pixie-widget").hide()})(jQuery);
